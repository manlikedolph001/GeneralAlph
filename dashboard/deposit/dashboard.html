<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dashboard - General Alpha</title>
    
    <link rel="apple-touch-icon" sizes="180x180" href="../../favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../favicons/favicon-16x16.png">
    <link rel="manifest" href="../../favicons/site.webmanifest">
    <link rel="mask-icon" href="../../favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../../favicons/favicon.ico">
    
    <link rel="stylesheet" href="../../build/assets/app-26e9a017.css">
    <link rel="stylesheet" href="../../build/assets/theme-61cc1a47.css">
    
    <style>
        body {
            background: linear-gradient(135deg, #0f171c 0%, #1a0c1c 100%);
            color: #fff;
            min-height: 100vh;
        }
        .navbar-dark {
            background-color: #0f171c;
            border-color: #0f171c;
        }
        .btn-primary {
            background-color: #5a0b4d !important;
            border-color: #5a0b4d !important;
        }
        .btn-primary:hover, .btn-primary:focus {
            background-color: #3e0734 !important;
            border-color: #3e0734 !important;
        }
        .card {
            border-radius: 18px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            background: rgba(24, 35, 43, 0.95);
            border: none;
            transition: transform 0.3s cubic-bezier(.25,.8,.25,1), box-shadow 0.3s cubic-bezier(.25,.8,.25,1);
        }
        .card:hover {
            transform: translateY(-7px) scale(1.03);
            box-shadow: 0 16px 40px 0 rgba(90, 11, 77, 0.18);
        }
        .stat-card {
            background: linear-gradient(120deg, #5a0b4d 0%, #2d0b3a 100%);
            color: white;
            border: none;
            box-shadow: 0 4px 24px 0 rgba(90, 11, 77, 0.12);
        }
        .card-title, .card-subtitle {
            color: #fff;
        }
        .card-header.bg-transparent {
            background: transparent;
            border-bottom: 1px solid #2d0b3a;
        }
        .table {
            color: #fff;
            background: transparent;
        }
        .table th, .table td {
            border-color: #2d0b3a;
        }
        .table thead th {
            color: #ff0101f1;
            border-bottom: 2px solid #5a0b4d;
        }
        .table tbody tr {
            background: rgba(90, 11, 77, 0.04);
        }
        .table tbody tr:hover {
            background: rgba(90, 11, 77, 0.12);
        }
        .font-bold {
            color: #ff0101f1;
        }
        .hover\:text-brand-secondary-light:hover {
            color: #5a0b4d !important;
        }
        .dashboard-balance-row {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
        }
        .dashboard-balance-row > .stat-col {
            flex: 1 1 220px;
            min-width: 220px;
            max-width: 100%;
            margin-bottom: 0 !important;
        }
        .dashboard-balance-row > .stat-col .card {
            height: 100%;
        }
        .card-body.d-flex {
            min-height: 120px;
        }
        .welcome-section {
            margin-bottom: 2rem;
            text-align: center;
        }
        #welcome-message {
            font-size: 2rem;
            font-weight: 700;
            color: #ff0101f1;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 8px rgba(0,0,0,0.18);
        }
        @media (max-width: 1200px) {
            .dashboard-balance-row {
                gap: 1rem;
            }
            .dashboard-balance-row > .stat-col {
                min-width: 180px;
            }
        }
        @media (max-width: 991px) {
            .dashboard-balance-row {
                flex-wrap: wrap;
                gap: 1rem;
            }
            .dashboard-balance-row > .stat-col {
                min-width: 45%;
                flex: 1 1 45%;
                margin-bottom: 1.5rem;
            }
        }
        @media (max-width: 767px) {
            .dashboard-balance-row {
                flex-direction: column;
                gap: 0.5rem;
            }
            .dashboard-balance-row > .stat-col {
                min-width: 100%;
                flex: 1 1 100%;
                margin-bottom: 1rem;
            }
            #welcome-message {
                font-size: 1.3rem;
            }
            .card-body.d-flex {
                min-height: 80px;
            }
        }
        /* Footer grid responsive */
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }
        @media (min-width: 768px) {
            .footer-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        @media (max-width: 767px) {
            .footer-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="../../index.html">
                <img src="../../logo/logo-light.png" alt="General Alpha" width="160">
            </a>
            
            <div class="dropdown">
                <button class="btn btn-link dropdown-toggle text-white" type="button" id="userMenu" data-bs-toggle="dropdown">
                    <img src="../../build/assets/avatar-status-a27e1ee1.svg" class="rounded-circle" width="32">
                    <span class="ms-2">My Account</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="settings.html">Settings</a></li>
                    <li><a class="dropdown-item" href="investmentplan.html">Investment Plans</a></li>
                    <li><a class="dropdown-item" href="deposit.html">Deposit</a></li>
                    <li><a class="dropdown-item" href="withdraw.html">Withdraw</a></li>
                    <li><a class="dropdown-item" href="wallet.html">Add Wallet</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item text-danger" href="../../login.html">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container my-5">
        <div class="welcome-section">
            <h2 id="welcome-message"></h2>
        </div>
        <div class="row g-4 dashboard-balance-row">
            <!-- Total Balance -->
            <div class="col-md-6 col-lg-3 stat-col">
                <div class="card stat-card h-100">
                    <div class="card-body">
                        <h6 class="card-subtitle mb-2">Total Balance</h6>
                        <h2 class="card-title mb-0">$0.00</h2>
                    </div>
                </div>
            </div>
            <!-- BTC Balance -->
            <div class="col-md-6 col-lg-2 stat-col">
                <div class="card stat-card h-100">
                    <div class="card-body d-flex flex-column align-items-center">
                        <img src="../../logo/btc.png" alt="BTC" width="32" class="mb-2">
                        <h6 class="card-subtitle mb-1">BTC</h6>
                        <h4 class="card-title mb-0">$0.00</h4>
                    </div>
                </div>
            </div>
            <!-- USDT Balance -->
            <div class="col-md-6 col-lg-2 stat-col">
                <div class="card stat-card h-100">
                    <div class="card-body d-flex flex-column align-items-center">
                        <img src="../../logo/usdt.png" alt="USDT" width="32" class="mb-2">
                        <h6 class="card-subtitle mb-1">USDT</h6>
                        <h4 class="card-title mb-0">$0.00</h4>
                    </div>
                </div>
            </div>
            <!-- BNB Balance -->
            <div class="col-md-6 col-lg-2 stat-col">
                <div class="card stat-card h-100">
                    <div class="card-body d-flex flex-column align-items-center">
                        <img src="../../logo/bnb.png" alt="BNB" width="32" class="mb-2">
                        <h6 class="card-subtitle mb-1">BNB</h6>
                        <h4 class="card-title mb-0">$0.00</h4>
                    </div>
                </div>
            </div>
            <!-- TRON Balance -->
            <div class="col-md-6 col-lg-2 stat-col">
                <div class="card stat-card h-100">
                    <div class="card-body d-flex flex-column align-items-center">
                        <img src="../../logo/trx.png" alt="TRON" width="32" class="mb-2">
                        <h6 class="card-subtitle mb-1">TRON</h6>
                        <h4 class="card-title mb-0">$0.00</h4>
                    </div>
                </div>
            </div>
            <!-- ETH Balance -->
            <div class="col-md-6 col-lg-2 stat-col">
                <div class="card stat-card h-100">
                    <div class="card-body d-flex flex-column align-items-center">
                        <img src="../../logo/eth.png" alt="ETH" width="32" class="mb-2">
                        <h6 class="card-subtitle mb-1">ETH</h6>
                        <h4 class="card-title mb-0">$0.00</h4>
                    </div>
                </div>
            </div>
            <!-- Active Investments -->
            <div class="col-md-6 col-lg-3 stat-col">
                <div class="card stat-card h-100">
                    <div class="card-body">
                        <h6 class="card-subtitle mb-2">Active Investments</h6>
                        <h2 class="card-title mb-0">3</h2>
                    </div>
                </div>
            </div>
            <!-- Total Profit -->
            <div class="col-md-6 col-lg-3 stat-col">
                <div class="card stat-card h-100">
                    <div class="card-body">
                        <h6 class="card-subtitle mb-2">Total Profit</h6>
                        <h2 class="card-title mb-0">$0.00</h2>
                    </div>
                </div>
            </div>
            <!-- Total Investments -->
            <div class="col-md-6 col-lg-3 stat-col">
                <div class="card stat-card h-100">
                    <div class="card-body">
                        <h6 class="card-subtitle mb-2">Total Investments</h6>
                        <h2 class="card-title mb-0">$0.00</h2>
                    </div>
                </div>
            </div>
        </div>

        <!-- Transaction History -->
        <div class="row mt-5">
            <div class="col-md-6">
                <div class="card h-100">
                    <div class="card-header bg-transparent">
                        <h5 class="mb-0">Deposit History</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Amount</th>
                                        <th>Currency</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>2025-06-10</td>
                                        <td>$100,000.00</td>
                                        <td>BTC</td>
                                        <td><span class="badge bg-success">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2025-06-12</td>
                                        <td>$60,000.00</td>
                                        <td>USDT</td>
                                        <td><span class="badge bg-success">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2025-06-15</td>
                                        <td>$30,000.00</td>
                                        <td>BNB</td>
                                        <td><span class="badge bg-success">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2025-06-16</td>
                                        <td>$40,000.00</td>
                                        <td>TRON</td>
                                        <td><span class="badge bg-success">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2025-06-17</td>
                                        <td>$20,000.00</td>
                                        <td>ETH</td>
                                        <td><span class="badge bg-success">Completed</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="card h-100">
                    <div class="card-header bg-transparent">
                        <h5 class="mb-0">Withdrawal History</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Amount</th>
                                        <th>Currency</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>2025-06-18</td>
                                        <td>$10,000.00</td>
                                        <td>BTC</td>
                                        <td><span class="badge bg-success">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2025-06-19</td>
                                        <td>$10,000.00</td>
                                        <td>USDT</td>
                                        <td><span class="badge bg-success">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2025-06-19</td>
                                        <td>$50,000.00</td>
                                        <td>TRON</td>
                                        <td><span class="badge bg-warning text-dark">Pending</span></td>
                                    </tr>
                                    <tr>
                                        <td>2025-06-20</td>
                                        <td>$20,000.00</td>
                                        <td>ETH</td>
                                        <td><span class="badge bg-success">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2025-06-21</td>
                                        <td>$30,000.00</td>
                                        <td>BNB</td>
                                        <td><span class="badge bg-success">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2025-06-22</td>
                                        <td>$40,000.00</td>
                                        <td>TRON</td>
                                        <td><span class="badge bg-success">Completed</span></td>
                                    </tr>
                                    <tr>
                                        <td>2025-06-23</td>
                                        <td>$20,000.00</td>
                                        <td>ETH</td>
                                        <td><span class="badge bg-warning text-dark">Pending</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Market Price Widget START -->
        <div class="container my-5">
            <div class="card" style="border-radius: 18px;">
                <div class="card-header bg-transparent">
                    <h5 class="mb-0">Live Market Prices</h5>
                </div>
                <div class="card-body">
                    <div class="tradingview-widget-container">
                      <div id="tradingview_ticker"></div>
                      <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
                      {
                      "symbols": [
                        {
                          "proName": "BINANCE:BTCUSDT",
                          "title": "Bitcoin"
                        },
                        {
                          "proName": "BINANCE:ETHUSDT",
                          "title": "Ethereum"
                        },
                        {
                          "proName": "BINANCE:BNBUSDT",
                          "title": "BNB"
                        },
                        {
                          "proName": "BINANCE:SOLUSDT",
                          "title": "Solana"
                        },
                        {
                          "proName": "BINANCE:ADAUSDT",
                          "title": "Cardano"
                        }
                      ],
                      "colorTheme": "dark",
                      "isTransparent": false,
                      "displayMode": "adaptive",
                      "locale": "en"
                      }
                      </script>
                    </div>
                </div>
            </div>
        </div>
        <!-- Market Price Widget END -->

        <!-- Footer -->
        <div class="w-full py-16 text-base md:text-sm footer-grid text-brand-primary">
            <div>
                <a href="../../index.html" class="cursor-pointer">
                    <div class="w-40 h-16 global-app-asset-trigger">
                        <img src="../../logo/logo-dark.png" alt="Logo" class="w-full h-full object-center">
                    </div>
                </a>
                <div>© 2025 GeneralAlpha. All Rights Reserved.</div>
                <div class="mt-3">9100 Wilshire Blvd, Beverly Hills, California 90212</div>
            </div>
            <div>
                <div class="pb-3 font-bold">Products</div>
                <div class="flex flex-col">
                    <a href="../../about-us.html" class="py-3 cursor-pointer hover:text-brand-secondary-light">About Us</a>
                    <a href="../../pricing.html" class="py-3 cursor-pointer hover:text-brand-secondary-light">Pricing</a>
                    <a href="../../courses.html" class="py-3 cursor-pointer hover:text-brand-secondary-light">Courses</a>
                </div>
            </div>
            <div>
                <div class="pb-3 font-bold">Support &amp; Resources</div>
                <div class="flex flex-col">
                    <a href="../../contact-us.html" class="py-3 cursor-pointer hover:text-brand-secondary-light">Contact Us</a>
                </div>
            </div>
            <div>
                <div class="pb-3 font-bold">Legal</div>
                <div class="flex flex-col">
                    <a href="../../terms.html" class="py-3 cursor-pointer hover:text-brand-secondary-light">Terms &amp; Conditions</a>
                    <a href="../../policy.html" class="py-3 cursor-pointer hover:text-brand-secondary-light">Privacy Policy</a>
                </div>
            </div>
            <div>
        <!-- End Footer -->
    </div>

   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../build/assets/theme-61cc1a47.js" defer></script>
    <script>
document.addEventListener('DOMContentLoaded', function () {
    // Personalized welcome message (already present)
    var welcomeMessage = document.getElementById('welcome-message');
    var userName = localStorage.getItem('dashboardUserName');
    if (userName && userName.trim() !== "") {
        welcomeMessage.textContent = "Welcome, " + userName + "!";
    } else {
        var hour = new Date().getHours();
        if (hour < 12) {
            welcomeMessage.textContent = 'Good Morning!';
        } else if (hour < 18) {
            welcomeMessage.textContent = 'Good Afternoon!';
        } else {
            welcomeMessage.textContent = 'Good Evening!';
        }
    }

    // --- LIVE BALANCES & INVESTMENTS ---
    // Utility functions
    function getUserBalances() {
        return JSON.parse(localStorage.getItem('userBalances') || '{}');
    }
    function getTotalInvestment() {
        return parseFloat(localStorage.getItem('totalInvestment') || '0');
    }
    function getActiveInvestments() {
        return JSON.parse(localStorage.getItem('activeInvestments') || '[]');
    }
    function getTotalProfit() {
        return parseFloat(localStorage.getItem('totalProfit') || '0');
    }
    function getDepositHistory() {
        return JSON.parse(localStorage.getItem('depositHistory') || '[]');
    }
    function getWithdrawalHistory() {
        return JSON.parse(localStorage.getItem('withdrawalHistory') || '[]');
    }
    function getTotalBalance() {
        const balances = getUserBalances();
        let total = 0;
        for (let k in balances) total += parseFloat(balances[k] || 0);
        return total;
    }

    // Update dashboard cards and tables
    function updateDashboardUI() {
        const balances = getUserBalances();
        // Coin balances
        document.querySelectorAll('.card-subtitle.mb-1').forEach(function(el){
            if(el.textContent.trim() === 'BTC') el.parentElement.querySelector('.card-title').textContent = '$' + (balances.BTC || 0).toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2});
            if(el.textContent.trim() === 'USDT') el.parentElement.querySelector('.card-title').textContent = '$' + (balances.USDT || 0).toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2});
            if(el.textContent.trim() === 'BNB') el.parentElement.querySelector('.card-title').textContent = '$' + (balances.BNB || 0).toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2});
            if(el.textContent.trim() === 'TRON') el.parentElement.querySelector('.card-title').textContent = '$' + (balances.TRX || 0).toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2});
            if(el.textContent.trim() === 'ETH') el.parentElement.querySelector('.card-title').textContent = '$' + (balances.ETH || 0).toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2});
        });
        // Stat cards
        document.querySelectorAll('.card-subtitle.mb-2').forEach(function(el){
            if(el.textContent.trim() === 'Total Balance') el.parentElement.querySelector('.card-title').textContent = '$' + getTotalBalance().toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2});
            if(el.textContent.trim() === 'Active Investments') el.parentElement.querySelector('.card-title').textContent = getActiveInvestments().length;
            if(el.textContent.trim() === 'Total Investments') el.parentElement.querySelector('.card-title').textContent = '$' + getTotalInvestment().toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2});
            if(el.textContent.trim() === 'Total Profit') el.parentElement.querySelector('.card-title').textContent = '$' + getTotalProfit().toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2});
        });
        // Deposit History
        document.querySelectorAll('.card-header').forEach(function(header){
            if(header.textContent.includes('Deposit')) {
                const depositTable = header.parentElement.querySelector('tbody');
                if (depositTable) {
                    const deposits = getDepositHistory();
                    let rows = '';
                    deposits.forEach(function(dep) {
                        rows += `<tr>
                            <td>${dep.date}</td>
                            <td>$${parseFloat(dep.amount).toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2})}</td>
                            <td>${dep.currency}</td>
                            <td><span class="badge bg-success">${dep.status}</span></td>
                        </tr>`;
                    });
                    depositTable.innerHTML = rows;
                }
            }
            // Withdrawal History
            if(header.textContent.includes('Withdrawal')) {
                const withdrawalTable = header.parentElement.querySelector('tbody');
                if (withdrawalTable) {
                    const withdrawals = getWithdrawalHistory();
                    let rows = '';
                    withdrawals.forEach(function(wd) {
                        rows += `<tr>
                            <td>${wd.date}</td>
                            <td>$${parseFloat(wd.amount).toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2})}</td>
                            <td>${wd.currency}</td>
                            <td><span class="badge ${wd.status === 'Completed' ? 'bg-success' : 'bg-warning text-dark'}">${wd.status}</span></td>
                        </tr>`;
                    });
                    withdrawalTable.innerHTML = rows;
                }
            }
        });
    }

    updateDashboardUI();
    setInterval(updateDashboardUI, 10000);
});
</script>
</body>
</html>
